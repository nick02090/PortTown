@model WebApp.Models.TownViewModels.TownBuildingsViewModel

@{
    ViewBag.Title = "ProductionBuildings";
}

<h4>Production</h4>

<div>
    @for (int i = 0; i < Model.BuildingsList.Count; i += 3)
    {
    <div class="row">
        @for (int j = 0; j < 3 && i+j < Model.BuildingsList.Count; ++j)
        {
            var item = Model.BuildingsList[i + j];
            if (item is WebApp.Models.Buildings.ProductionBuilding)
            {
                WebApp.Models.Buildings.ProductionBuilding productionBuilding = (WebApp.Models.Buildings.ProductionBuilding)item;
                    <div class="col-md-4 col-sm-4">
                        <a href="@Url.Content("/town/productionbuildingdetails?Name="+item.Name)" style="text-decoration: none; color: black">
                            <div class="card">
                                <div class="card-body text-center">
                                    <div class="row">
                                        <div class="col">
                                            <img class="rounded-circle" src="@Url.Content(item.ImagePath)" alt="Generic placeholder image" width="200" height="200" />
                                        </div>
                                    </div>
                                    <br />
                                    <div class="row">
                                        <div class="col">
                                            <p class="font-weight-bold">@Html.Encode(item.Name)</p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col">
                                            <p>Level: @Html.Encode(item.Level)</p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col">
                                            <p>Resource: @Html.Encode(productionBuilding.Resource.Type.ToString())</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
            }
        }
    </div>
    }
</div>
